---
title: "Claude Code Skills 技能系统 — 常见问题"
description: "关于 Claude Code Skills 的常见问题：什么是技能、如何创建、最佳实践"
date: 2026-02-10
lang: zh
---

### 什么是 Claude Code Skills（技能）？

Claude Code Skills 是可重复使用的指令集，用于教会 Claude Code 如何一致地完成特定任务。可以把它理解为自定义"配方"——你定义一次步骤，Claude 每次都按照它执行。

技能以 Markdown 文件形式存储（通常在 `.claude/skills/` 或项目的 `CLAUDE.md` 中），可以包含：

* **常见工作流的分步操作**
* 团队遵循的**代码模式**和架构约定
* 特定环境的**工具配置**
* Claude 自动应用的**质量检查清单**

技能弥补了通用 AI 辅助与团队专属知识之间的鸿沟。不必每次会话都重新解释部署流程，编码一次即可。

---

### 如何创建 Claude Code Skill？

创建技能需要编写一个清晰描述任务的 Markdown 文件，基本流程如下：

1. **创建文件**：在 `.claude/skills/` 目录下新建文件（如 `.claude/skills/deploy-to-staging.md`）
2. **编写清晰指令**：用自然语言写出具体步骤
3. **包含示例**：提供预期的输入和输出
4. **引用工具**：指定 Claude 应使用的 shell 命令、文件操作等

一个最简技能示例：

```markdown
# 部署到测试环境
当被要求部署到测试环境时：
1. 运行 `npm run build` 并确认无错误
2. 运行 `npm run test` 并确保全部通过
3. 执行 `./scripts/deploy-staging.sh`
4. 在 https://staging.example.com 验证部署
```

放在 `.claude/` 目录下的技能文件会被自动识别。

---

### Skills 和 CLAUDE.md 有什么区别？

两者都用于配置 Claude Code 的行为，但用途不同：

* **CLAUDE.md**：项目级配置，适用于每次交互。包含通用规则、编码规范和项目背景。每个项目（或目录）有一个。
* **Skills**：特定任务的指令集，在相关时激活。可以有数十个技能覆盖不同工作流。

把 `CLAUDE.md` 想象成"宪法"，Skills 想象成"操作手册"。CLAUDE.md 规定"我们使用 TypeScript，偏好函数式模式"；而技能则说明"在我们系统中如何具体添加一个新 API 端点"。

实践中，CLAUDE.md 常引用技能，技能也会假设 CLAUDE.md 中定义的约定。

---

### Skills 可以互相调用吗？

可以，技能可以引用和组合其他技能，实现模块化、DRY 的指令集：

* "完整发布"技能可以引用"运行测试"、"构建"和"部署"技能
* 技能可以指定前置条件："请先完成 'lint-fix' 技能"
* 共享工具类（如"检查 CI 状态"）可以提取为独立技能

这种可组合性是相比把所有内容塞进单个 CLAUDE.md 文件的主要优势。随着技能库的增长，你可以构建越来越强大的复合工作流。

---

### 编写高效 Skills 的最佳实践是什么？

遵循以下原则，让技能稳定可靠：

1. **具体而非模糊**："运行 `pytest -x --tb=short`" 优于"运行测试"
2. **包含错误处理**：告诉 Claude 失败时该怎么做
3. **使用具体示例**：展示预期的文件结构、命令输出等
4. **保持技能聚焦**：一个技能对应一个工作流；复杂任务通过组合实现
5. **版本控制**：技能应与代码一起放在 Git 中
6. **迭代测试**：尝试技能 → 观察 Claude 行为 → 优化指令
7. **记录假设**：说明所需的环境变量、工具和权限

最常见的错误是技能写得太抽象。Claude 在面对精确、可执行的指令时表现最好。

---

### Skills 如何与上下文窗口交互？

技能加载时会消耗 Claude 上下文窗口中的 token。关键注意事项：

* **选择性加载**：每次会话只加载相关技能，而非整个库
* **大小有关系**：单个技能控制在 500 行以内；过大则拆分
* **Opus 4.6 的 100 万上下文**：可以同时加载更多技能
* **压缩（Compaction）**：长会话可能会总结早期技能内容；关键指令应放在 CLAUDE.md 中

对于拥有 50+ 技能的团队，建议按子目录组织（如 `.claude/skills/deploy/`、`.claude/skills/testing/`），这样 Claude 可以只加载需要的部分。

---

### Skills 可以跨项目共享吗？

可以，有几种方式：

* **Git 子模块**：在多个代码仓库间共享 `.claude/skills/` 目录
* **符号链接**：指向机器上的中央技能目录
* **直接复制**：将技能文件在项目间复制（最简单但最难维护）
* **NPM 包**：将技能打包为 npm 模块并安装

推荐团队使用共享 Git 仓库，作为子模块引入各项目。这样可以实现版本管理、技能变更的代码审查，以及跨代码库的一致行为。

---

### Skills 与 Agent Teams 如何配合？

技能和 Agent Teams 是 Claude Code 中的互补功能。使用 Agent Teams 时：

* **每个代理可以有自己的技能**，针对其角色定制（如"审查者"代理有代码审查技能，"实现者"代理有编码技能）
* **协调技能**可以定义代理间如何交接工作
* **共享技能**确保所有代理遵循一致的规范

配合完善的技能，Agent Teams 会显著增强，因为每个代理都清楚自己该做什么，无需每一步都由人来引导。这在"重构模块 → 编写测试 → 审查 → 部署"等复杂工作流中特别有用。

---

### Skills 与 GitHub Copilot 自定义指令相比如何？

两者都能自定义 AI 行为，但 Claude Code Skills 更强大：

| 特性 | Claude Code Skills | Copilot 自定义指令 |
|------|-------------------|-------------------|
| 范围 | 完整工作流自动化 | 代码补全提示 |
| 工具访问 | Shell、文件、浏览器、MCP | 仅代码编辑器 |
| 可组合性 | 技能可引用其他技能 | 扁平指令集 |
| 激活方式 | 上下文感知，选择性加载 | 始终活跃 |
| 复杂度 | 多步骤流程 | 简短指南 |

Claude Code Skills 可以编排完整的开发工作流，而 Copilot 的指令主要影响编辑器内的代码建议。

---

### 有哪些实际的 Skill 案例？

以下是开发团队常用的技能：

* **PR 审查技能**：检出 PR 分支、运行测试、根据团队规范审查 diff、发布结构化反馈
* **数据库迁移技能**：生成迁移文件、更新 ORM 模型、创建回滚脚本、用种子数据测试
* **事故响应技能**：检查日志、识别错误模式、建议修复方案、起草事后复盘
* **新人引导技能**：向新开发者介绍项目架构、关键文件、开发环境配置和常见工作流
* **发版技能**：升级版本号、更新变更日志、创建发布分支、运行完整测试套件、打标签并推送

团队反馈，将最常见的 10 个工作流编码为技能，可以节省 30-50% 向 AI 助手解释上下文的时间。
